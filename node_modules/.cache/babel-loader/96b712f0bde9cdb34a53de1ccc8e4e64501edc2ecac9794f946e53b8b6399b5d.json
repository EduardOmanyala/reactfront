{"ast":null,"code":"import axios from \"axios\";\nimport api, { setAccessToken, clearAccessToken } from \"./client\";\nconst API_HOST = typeof window !== \"undefined\" ? window.location.hostname : \"127.0.0.1\";\nconst API_BASE = `http://${API_HOST}:8000/api`;\nexport async function login(email, password) {\n  const {\n    data\n  } = await axios.post(`${API_BASE}/token/`, {\n    email,\n    password\n  },\n  // ðŸ‘ˆ use email here\n  {\n    withCredentials: true\n  } // important so cookies (refresh) work\n  );\n  setAccessToken(data.access); // access token in memory\n}\nexport async function logout() {\n  await axios.post(`${API_BASE}/logout/`, {}, {\n    withCredentials: true\n  });\n  clearAccessToken();\n}\nexport async function getMe() {\n  const {\n    data\n  } = await api.get(`/me/`);\n  return data;\n}","map":{"version":3,"names":["axios","api","setAccessToken","clearAccessToken","API_HOST","window","location","hostname","API_BASE","login","email","password","data","post","withCredentials","access","logout","getMe","get"],"sources":["C:/Users/Administrator/Desktop/edtech/django/react/src/api/auth.js"],"sourcesContent":["\r\nimport axios from \"axios\";\r\nimport api, { setAccessToken, clearAccessToken } from \"./client\";\r\n\r\nconst API_HOST = typeof window !== \"undefined\" ? window.location.hostname : \"127.0.0.1\";\r\nconst API_BASE = `http://${API_HOST}:8000/api`;\r\n\r\nexport async function login(email, password) {\r\n  const { data } = await axios.post(\r\n    `${API_BASE}/token/`,\r\n    { email, password },            // ðŸ‘ˆ use email here\r\n    { withCredentials: true }       // important so cookies (refresh) work\r\n  );\r\n  setAccessToken(data.access);       // access token in memory\r\n}\r\n\r\nexport async function logout() {\r\n  await axios.post(`${API_BASE}/logout/`, {}, { withCredentials: true });\r\n  clearAccessToken();\r\n}\r\n\r\nexport async function getMe() {\r\n  const { data } = await api.get(`/me/`);\r\n  return data;\r\n}"],"mappings":"AACA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,GAAG,IAAIC,cAAc,EAAEC,gBAAgB,QAAQ,UAAU;AAEhE,MAAMC,QAAQ,GAAG,OAAOC,MAAM,KAAK,WAAW,GAAGA,MAAM,CAACC,QAAQ,CAACC,QAAQ,GAAG,WAAW;AACvF,MAAMC,QAAQ,GAAG,UAAUJ,QAAQ,WAAW;AAE9C,OAAO,eAAeK,KAAKA,CAACC,KAAK,EAAEC,QAAQ,EAAE;EAC3C,MAAM;IAAEC;EAAK,CAAC,GAAG,MAAMZ,KAAK,CAACa,IAAI,CAC/B,GAAGL,QAAQ,SAAS,EACpB;IAAEE,KAAK;IAAEC;EAAS,CAAC;EAAa;EAChC;IAAEG,eAAe,EAAE;EAAK,CAAC,CAAO;EAClC,CAAC;EACDZ,cAAc,CAACU,IAAI,CAACG,MAAM,CAAC,CAAC,CAAO;AACrC;AAEA,OAAO,eAAeC,MAAMA,CAAA,EAAG;EAC7B,MAAMhB,KAAK,CAACa,IAAI,CAAC,GAAGL,QAAQ,UAAU,EAAE,CAAC,CAAC,EAAE;IAAEM,eAAe,EAAE;EAAK,CAAC,CAAC;EACtEX,gBAAgB,CAAC,CAAC;AACpB;AAEA,OAAO,eAAec,KAAKA,CAAA,EAAG;EAC5B,MAAM;IAAEL;EAAK,CAAC,GAAG,MAAMX,GAAG,CAACiB,GAAG,CAAC,MAAM,CAAC;EACtC,OAAON,IAAI;AACb","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}